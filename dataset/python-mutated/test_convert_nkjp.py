import pytest
import io
import os
import xml.etree.ElementTree as ET
from stanza.utils.datasets.ner.convert_nkjp import MORPH_FILE, NER_FILE, extract_entities_from_subfolder, extract_entities_from_sentence, extract_unassigned_subfolder_entities
pytestmark = [pytest.mark.pipeline, pytest.mark.travis]
EXPECTED_ENTITIES = {'1-p': {'1.39-s': [{'ent_id': 'named_1.39-s_n1', 'index': 0, 'orth': 'Sił Zbrojnych', 'ner_type': 'orgName', 'ner_subtype': None, 'targets': ['1.37-seg', '1.38-seg']}], '1.56-s': [], '1.79-s': []}, '2-p': {'2.30-s': [], '2.45-s': []}, '3-p': {'3.70-s': []}}

@pytest.fixture(scope='module')
def dataset(tmp_path_factory):
    if False:
        for i in range(10):
            print('nop')
    dataset_path = tmp_path_factory.mktemp('nkjp_dataset')
    sample_path = dataset_path / 'sample'
    os.mkdir(sample_path)
    ann_path = sample_path / NER_FILE
    with open(ann_path, 'w', encoding='utf-8') as fout:
        fout.write(SAMPLE_ANN)
    morph_path = sample_path / MORPH_FILE
    with open(morph_path, 'w', encoding='utf-8') as fout:
        fout.write(SAMPLE_MORPHO)
    return dataset_path
EXPECTED_TOKENS = [{'seg_id': '1.1-seg', 'i': 0, 'orth': '2', 'text': '2', 'tag': '_', 'ner': 'O', 'ner_subtype': None}, {'seg_id': '1.37-seg', 'i': 36, 'orth': 'Sił', 'text': 'Sił', 'tag': '_', 'ner': 'B-orgName', 'ner_subtype': None}, {'seg_id': '1.38-seg', 'i': 37, 'orth': 'Zbrojnych', 'text': 'Zbrojnych', 'tag': '_', 'ner': 'I-orgName', 'ner_subtype': None}]

def test_extract_entities_from_subfolder(dataset):
    if False:
        print('Hello World!')
    entities = extract_entities_from_subfolder('sample', dataset)
    assert len(entities) == 1
    assert len(entities['1-p']) == 1
    assert len(entities['1-p']['1.39-s']) == 39
    assert entities['1-p']['1.39-s']['1.1-seg'] == EXPECTED_TOKENS[0]
    assert entities['1-p']['1.39-s']['1.37-seg'] == EXPECTED_TOKENS[1]
    assert entities['1-p']['1.39-s']['1.38-seg'] == EXPECTED_TOKENS[2]

def test_extract_unassigned(dataset):
    if False:
        return 10
    entities = extract_unassigned_subfolder_entities('sample', dataset)
    assert entities == EXPECTED_ENTITIES
SENTENCE_SAMPLE = '\n          <s xmlns="http://www.tei-c.org/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="named_1.39-s" corresp="ann_morphosyntax.xml#morph_1.39-s">\n            <seg xml:id="named_1.39-s_n1">\n              <fs type="named">\n                <f name="type">\n                  <symbol value="orgName"/>\n                </f>\n                <f name="orth">\n                  <string>Si&#322; Zbrojnych</string>\n                </f>\n                <f name="base">\n                  <string>Si&#322;y Zbrojne</string>\n                </f>\n                <f name="certainty">\n                  <symbol value="high"/>\n                </f>\n              </fs>\n              <ptr target="ann_morphosyntax.xml#morph_1.37-seg"/>\n              <ptr target="ann_morphosyntax.xml#morph_1.38-seg"/>\n            </seg>\n          </s>\n'.strip()
EMPTY_SENTENCE = '<s xml:id="named_1.56-s" corresp="ann_morphosyntax.xml#morph_1.56-s"/>'

def test_extract_entities_from_sentence():
    if False:
        return 10
    rt = ET.fromstring(SENTENCE_SAMPLE)
    entities = extract_entities_from_sentence(rt)
    assert entities == EXPECTED_ENTITIES['1-p']['1.39-s']
    rt = ET.fromstring(EMPTY_SENTENCE)
    entities = extract_entities_from_sentence(rt)
    assert entities == []
SAMPLE_ANN = '\n<?xml version=\'1.0\' encoding=\'UTF-8\'?>\n<teiCorpus xmlns:xi="http://www.w3.org/2001/XInclude" xmlns="http://www.tei-c.org/ns/1.0">\n  <xi:include href="NKJP_1M_header.xml"/>\n  <TEI>\n    <xi:include href="header.xml"/>\n    <text xml:lang="pl">\n      <body>\n        <p xml:id="named_1-p" corresp="ann_morphosyntax.xml#morph_1-p">\n          <s xml:id="named_1.39-s" corresp="ann_morphosyntax.xml#morph_1.39-s">\n            <seg xml:id="named_1.39-s_n1">\n              <fs type="named">\n                <f name="type">\n                  <symbol value="orgName"/>\n                </f>\n                <f name="orth">\n                  <string>Sił Zbrojnych</string>\n                </f>\n                <f name="base">\n                  <string>Siły Zbrojne</string>\n                </f>\n                <f name="certainty">\n                  <symbol value="high"/>\n                </f>\n              </fs>\n              <ptr target="ann_morphosyntax.xml#morph_1.37-seg"/>\n              <ptr target="ann_morphosyntax.xml#morph_1.38-seg"/>\n            </seg>\n          </s>\n          <s xml:id="named_1.56-s" corresp="ann_morphosyntax.xml#morph_1.56-s"/>\n          <s xml:id="named_1.79-s" corresp="ann_morphosyntax.xml#morph_1.79-s"/>\n        </p>\n        <p xml:id="named_2-p" corresp="ann_morphosyntax.xml#morph_2-p">\n          <s xml:id="named_2.30-s" corresp="ann_morphosyntax.xml#morph_2.30-s"/>\n          <s xml:id="named_2.45-s" corresp="ann_morphosyntax.xml#morph_2.45-s"/>\n        </p>\n        <p xml:id="named_3-p" corresp="ann_morphosyntax.xml#morph_3-p">\n          <s xml:id="named_3.70-s" corresp="ann_morphosyntax.xml#morph_3.70-s"/>\n        </p>\n      </body>\n    </text>\n  </TEI>\n</teiCorpus>\n'.lstrip()
SAMPLE_MORPHO = '\n<?xml version="1.0" encoding="UTF-8"?>\n<!-- w indeksach elementów wciąganych mogą zdarzyć się nieciągłości (z alternatyw segmentacyjnych)  --><teiCorpus xmlns="http://www.tei-c.org/ns/1.0" xmlns:nkjp="http://www.nkjp.pl/ns/1.0" xmlns:xi="http://www.w3.org/2001/XInclude">\n <xi:include href="NKJP_1M_header.xml"/>\n <TEI>\n  <xi:include href="header.xml"/>\n  <text>\n   <body>\n    <!-- morph_1-p is akapit 7626 with instances (akapit_transzy-s) 15244, 15269 in batches (transza-s) 1525, 1528 resp. -->\n    <p corresp="ann_segmentation.xml#segm_1-p" xml:id="morph_1-p">\n     <s corresp="ann_segmentation.xml#segm_1.39-s" xml:id="morph_1.39-s">\n      <seg corresp="ann_segmentation.xml#segm_1.1-seg" xml:id="morph_1.1-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>2</string>\n        </f>\n        <!-- 2 [0,1] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.1.1-lex">\n          <f name="base">\n           <string/>\n          </f>\n          <f name="ctag">\n           <symbol value="ign"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.1.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.1.2-lex">\n          <f name="base">\n           <string>2</string>\n          </f>\n          <f name="ctag">\n           <symbol value="adj"/>\n          </f>\n          <f name="msd">\n           <symbol nkjp:manual="true" value="sg:nom:n:pos" xml:id="morph_1.1.2.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.1.2.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>2:adj:sg:nom:n:pos</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.2-seg" xml:id="morph_1.2-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>.</string>\n        </f>\n        <!-- . [1,1] -->\n        <f name="nps">\n         <binary value="true"/>\n        </f>\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.2.1-lex">\n          <f name="base">\n           <string>.</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interp"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.2.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.2.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>.:interp</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.3-seg" xml:id="morph_1.3-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>Wezwanie</string>\n        </f>\n        <!-- Wezwanie [3,8] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.3.1-lex">\n          <f name="base">\n           <string>wezwanie</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:nom:n" xml:id="morph_1.3.1.1-msd"/>\n            <symbol value="sg:acc:n" xml:id="morph_1.3.1.2-msd"/>\n            <symbol value="sg:voc:n" xml:id="morph_1.3.1.3-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.3.2-lex">\n          <f name="base">\n           <string>wezwać</string>\n          </f>\n          <f name="ctag">\n           <symbol value="ger"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:nom:n:perf:aff" xml:id="morph_1.3.2.1-msd"/>\n            <symbol value="sg:acc:n:perf:aff" xml:id="morph_1.3.2.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.3.1.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>wezwanie:subst:sg:acc:n</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.4-seg" xml:id="morph_1.4-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>,</string>\n        </f>\n        <!-- , [11,1] -->\n        <f name="nps">\n         <binary value="true"/>\n        </f>\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.4.1-lex">\n          <f name="base">\n           <string>,</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interp"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.4.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.4.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>,:interp</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.5-seg" xml:id="morph_1.5-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>o</string>\n        </f>\n        <!-- o [13,1] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.5.1-lex">\n          <f name="base">\n           <string>o</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interj"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.5.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.5.2-lex">\n          <f name="base">\n           <string>o</string>\n          </f>\n          <f name="ctag">\n           <symbol value="prep"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="acc" xml:id="morph_1.5.2.1-msd"/>\n            <symbol value="loc" xml:id="morph_1.5.2.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.5.3-lex">\n          <f name="base">\n           <string>ojciec</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.5.3.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.5.2.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>o:prep:loc</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.6-seg" xml:id="morph_1.6-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>którym</string>\n        </f>\n        <!-- którym [15,6] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.6.1-lex">\n          <f name="base">\n           <string>który</string>\n          </f>\n          <f name="ctag">\n           <symbol value="adj"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:inst:m1:pos" xml:id="morph_1.6.1.1-msd"/>\n            <symbol value="sg:inst:m2:pos" xml:id="morph_1.6.1.2-msd"/>\n            <symbol value="sg:inst:m3:pos" xml:id="morph_1.6.1.3-msd"/>\n            <symbol value="sg:inst:n:pos" xml:id="morph_1.6.1.4-msd"/>\n            <symbol value="sg:loc:m1:pos" xml:id="morph_1.6.1.5-msd"/>\n            <symbol value="sg:loc:m2:pos" xml:id="morph_1.6.1.6-msd"/>\n            <symbol value="sg:loc:m3:pos" xml:id="morph_1.6.1.7-msd"/>\n            <symbol value="sg:loc:n:pos" xml:id="morph_1.6.1.8-msd"/>\n            <symbol value="pl:dat:m1:pos" xml:id="morph_1.6.1.9-msd"/>\n            <symbol value="pl:dat:m2:pos" xml:id="morph_1.6.1.10-msd"/>\n            <symbol value="pl:dat:m3:pos" xml:id="morph_1.6.1.11-msd"/>\n            <symbol value="pl:dat:f:pos" xml:id="morph_1.6.1.12-msd"/>\n            <symbol value="pl:dat:n:pos" xml:id="morph_1.6.1.13-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.6.1.8-msd" name="choice"/>\n          <f name="interpretation">\n           <string>który:adj:sg:loc:n:pos</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.7-seg" xml:id="morph_1.7-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>mowa</string>\n        </f>\n        <!-- mowa [22,4] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.7.1-lex">\n          <f name="base">\n           <string>mowa</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:nom:f" xml:id="morph_1.7.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.7.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>mowa:subst:sg:nom:f</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.8-seg" xml:id="morph_1.8-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>w</string>\n        </f>\n        <!-- w [27,1] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.8.1-lex">\n          <f name="base">\n           <string>w</string>\n          </f>\n          <f name="ctag">\n           <symbol value="prep"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="acc:nwok" xml:id="morph_1.8.1.1-msd"/>\n            <symbol value="loc:nwok" xml:id="morph_1.8.1.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.8.2-lex">\n          <f name="base">\n           <string>wiek</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.8.2.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.8.3-lex">\n          <f name="base">\n           <string>wielki</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.8.3.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.8.4-lex">\n          <f name="base">\n           <string>wiersz</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.8.4.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.8.5-lex">\n          <f name="base">\n           <string>wieś</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.8.5.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.8.6-lex">\n          <f name="base">\n           <string>wyspa</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.8.6.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.8.1.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>w:prep:loc:nwok</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.9-seg" xml:id="morph_1.9-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>ust</string>\n        </f>\n        <!-- ust [29,3] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.9.1-lex">\n          <f name="base">\n           <string>usta</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="pl:gen:n" xml:id="morph_1.9.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.9.2-lex">\n          <f name="base">\n           <string>ustęp</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol nkjp:manual="true" value="pun" xml:id="morph_1.9.2.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.9.2.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>ustęp:brev:pun</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.10-seg" xml:id="morph_1.10-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>.</string>\n        </f>\n        <!-- . [32,1] -->\n        <f name="nps">\n         <binary value="true"/>\n        </f>\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.10.1-lex">\n          <f name="base">\n           <string>.</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interp"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.10.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.10.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>.:interp</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.11-seg" xml:id="morph_1.11-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>1</string>\n        </f>\n        <!-- 1 [34,1] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.11.1-lex">\n          <f name="base">\n           <string/>\n          </f>\n          <f name="ctag">\n           <symbol value="ign"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.11.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.11.2-lex">\n          <f name="base">\n           <string>1</string>\n          </f>\n          <f name="ctag">\n           <symbol value="adj"/>\n          </f>\n          <f name="msd">\n           <symbol nkjp:manual="true" value="sg:loc:m3:pos" xml:id="morph_1.11.2.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.11.2.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>1:adj:sg:loc:m3:pos</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.12-seg" xml:id="morph_1.12-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>,</string>\n        </f>\n        <!-- , [35,1] -->\n        <f name="nps">\n         <binary value="true"/>\n        </f>\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.12.1-lex">\n          <f name="base">\n           <string>,</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interp"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.12.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.12.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>,:interp</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.13-seg" xml:id="morph_1.13-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>doręcza</string>\n        </f>\n        <!-- doręcza [37,7] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.13.1-lex">\n          <f name="base">\n           <string>doręczać</string>\n          </f>\n          <f name="ctag">\n           <symbol value="fin"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:ter:imperf" xml:id="morph_1.13.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.13.2-lex">\n          <f name="base">\n           <string>doręcze</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:gen:n" xml:id="morph_1.13.2.1-msd"/>\n            <symbol value="pl:nom:n" xml:id="morph_1.13.2.2-msd"/>\n            <symbol value="pl:acc:n" xml:id="morph_1.13.2.3-msd"/>\n            <symbol value="pl:voc:n" xml:id="morph_1.13.2.4-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.13.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>doręczać:fin:sg:ter:imperf</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.14-seg" xml:id="morph_1.14-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>się</string>\n        </f>\n        <!-- się [45,3] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.14.1-lex">\n          <f name="base">\n           <string>się</string>\n          </f>\n          <f name="ctag">\n           <symbol value="qub"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.14.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.14.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>się:qub</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.15-seg" xml:id="morph_1.15-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>na</string>\n        </f>\n        <!-- na [49,2] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.15.1-lex">\n          <f name="base">\n           <string>na</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interj"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.15.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.15.2-lex">\n          <f name="base">\n           <string>na</string>\n          </f>\n          <f name="ctag">\n           <symbol value="prep"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="acc" xml:id="morph_1.15.2.1-msd"/>\n            <symbol value="loc" xml:id="morph_1.15.2.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.15.2.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>na:prep:acc</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.16-seg" xml:id="morph_1.16-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>czternaście</string>\n        </f>\n        <!-- czternaście [52,11] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.16.1-lex">\n          <f name="base">\n           <string>czternaście</string>\n          </f>\n          <f name="ctag">\n           <symbol value="num"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="pl:nom:m2:rec" xml:id="morph_1.16.1.1-msd"/>\n            <symbol value="pl:nom:m3:rec" xml:id="morph_1.16.1.2-msd"/>\n            <symbol value="pl:nom:f:rec" xml:id="morph_1.16.1.3-msd"/>\n            <symbol value="pl:nom:n:rec" xml:id="morph_1.16.1.4-msd"/>\n            <symbol value="pl:acc:m2:rec" xml:id="morph_1.16.1.5-msd"/>\n            <symbol value="pl:acc:m3:rec" xml:id="morph_1.16.1.6-msd"/>\n            <symbol value="pl:acc:f:rec" xml:id="morph_1.16.1.7-msd"/>\n            <symbol value="pl:acc:n:rec" xml:id="morph_1.16.1.8-msd"/>\n            <symbol value="pl:voc:m2:rec" xml:id="morph_1.16.1.9-msd"/>\n            <symbol value="pl:voc:m3:rec" xml:id="morph_1.16.1.10-msd"/>\n            <symbol value="pl:voc:f:rec" xml:id="morph_1.16.1.11-msd"/>\n            <symbol value="pl:voc:n:rec" xml:id="morph_1.16.1.12-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.16.1.6-msd" name="choice"/>\n          <f name="interpretation">\n           <string>czternaście:num:pl:acc:m3:rec</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.17-seg" xml:id="morph_1.17-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>dni</string>\n        </f>\n        <!-- dni [64,3] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.17.1-lex">\n          <f name="base">\n           <string>dni</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="pl:nom:n" xml:id="morph_1.17.1.1-msd"/>\n            <symbol value="pl:gen:n" xml:id="morph_1.17.1.2-msd"/>\n            <symbol value="pl:acc:n" xml:id="morph_1.17.1.3-msd"/>\n            <symbol value="pl:voc:n" xml:id="morph_1.17.1.4-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.17.2-lex">\n          <f name="base">\n           <string>dzień</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="pl:nom:m3" xml:id="morph_1.17.2.1-msd"/>\n            <symbol value="pl:gen:m3" xml:id="morph_1.17.2.2-msd"/>\n            <symbol value="pl:acc:m3" xml:id="morph_1.17.2.3-msd"/>\n            <symbol value="pl:voc:m3" xml:id="morph_1.17.2.4-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.17.2.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>dzień:subst:pl:gen:m3</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.18-seg" xml:id="morph_1.18-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>przed</string>\n        </f>\n        <!-- przed [68,5] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.18.1-lex">\n          <f name="base">\n           <string>przed</string>\n          </f>\n          <f name="ctag">\n           <symbol value="prep"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="acc:nwok" xml:id="morph_1.18.1.1-msd"/>\n            <symbol value="inst:nwok" xml:id="morph_1.18.1.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.18.1.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>przed:prep:inst:nwok</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.19-seg" xml:id="morph_1.19-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>terminem</string>\n        </f>\n        <!-- terminem [74,8] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.19.1-lex">\n          <f name="base">\n           <string>termin</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:inst:m3" xml:id="morph_1.19.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.19.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>termin:subst:sg:inst:m3</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.20-seg" xml:id="morph_1.20-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>wykonania</string>\n        </f>\n        <!-- wykonania [83,9] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.20.1-lex">\n          <f name="base">\n           <string>wykonanie</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:gen:n" xml:id="morph_1.20.1.1-msd"/>\n            <symbol value="pl:nom:n" xml:id="morph_1.20.1.2-msd"/>\n            <symbol value="pl:acc:n" xml:id="morph_1.20.1.3-msd"/>\n            <symbol value="pl:voc:n" xml:id="morph_1.20.1.4-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.20.2-lex">\n          <f name="base">\n           <string>wykonać</string>\n          </f>\n          <f name="ctag">\n           <symbol value="ger"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:gen:n:perf:aff" xml:id="morph_1.20.2.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.20.2.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>wykonać:ger:sg:gen:n:perf:aff</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.21-seg" xml:id="morph_1.21-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>świadczenia</string>\n        </f>\n        <!-- świadczenia [93,11] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.21.1-lex">\n          <f name="base">\n           <string>świadczenie</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:gen:n" xml:id="morph_1.21.1.1-msd"/>\n            <symbol value="pl:nom:n" xml:id="morph_1.21.1.2-msd"/>\n            <symbol value="pl:acc:n" xml:id="morph_1.21.1.3-msd"/>\n            <symbol value="pl:voc:n" xml:id="morph_1.21.1.4-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.21.2-lex">\n          <f name="base">\n           <string>świadczyć</string>\n          </f>\n          <f name="ctag">\n           <symbol value="ger"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:gen:n:imperf:aff" xml:id="morph_1.21.2.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.21.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>świadczenie:subst:sg:gen:n</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.22-seg" xml:id="morph_1.22-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>,</string>\n        </f>\n        <!-- , [104,1] -->\n        <f name="nps">\n         <binary value="true"/>\n        </f>\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.22.1-lex">\n          <f name="base">\n           <string>,</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interp"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.22.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.22.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>,:interp</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.23-seg" xml:id="morph_1.23-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>z</string>\n        </f>\n        <!-- z [106,1] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.23.1-lex">\n          <f name="base">\n           <string>z</string>\n          </f>\n          <f name="ctag">\n           <symbol value="prep"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="gen:nwok" xml:id="morph_1.23.1.1-msd"/>\n            <symbol value="acc:nwok" xml:id="morph_1.23.1.2-msd"/>\n            <symbol value="inst:nwok" xml:id="morph_1.23.1.3-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.23.2-lex">\n          <f name="base">\n           <string>z</string>\n          </f>\n          <f name="ctag">\n           <symbol value="qub"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.23.2.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.23.3-lex">\n          <f name="base">\n           <string>zeszyt</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.23.3.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.23.1.3-msd" name="choice"/>\n          <f name="interpretation">\n           <string>z:prep:inst:nwok</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.24-seg" xml:id="morph_1.24-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>wyjątkiem</string>\n        </f>\n        <!-- wyjątkiem [108,9] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.24.1-lex">\n          <f name="base">\n           <string>wyjątek</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:inst:m3" xml:id="morph_1.24.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.24.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>wyjątek:subst:sg:inst:m3</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.25-seg" xml:id="morph_1.25-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>przypadków</string>\n        </f>\n        <!-- przypadków [118,10] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.25.1-lex">\n          <f name="base">\n           <string>przypadek</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="pl:gen:m3" xml:id="morph_1.25.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.25.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>przypadek:subst:pl:gen:m3</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.26-seg" xml:id="morph_1.26-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>,</string>\n        </f>\n        <!-- , [128,1] -->\n        <f name="nps">\n         <binary value="true"/>\n        </f>\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.26.1-lex">\n          <f name="base">\n           <string>,</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interp"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.26.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.26.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>,:interp</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.27-seg" xml:id="morph_1.27-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>w</string>\n        </f>\n        <!-- w [130,1] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.27.1-lex">\n          <f name="base">\n           <string>w</string>\n          </f>\n          <f name="ctag">\n           <symbol value="prep"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="acc:nwok" xml:id="morph_1.27.1.1-msd"/>\n            <symbol value="loc:nwok" xml:id="morph_1.27.1.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.27.2-lex">\n          <f name="base">\n           <string>wiek</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.27.2.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.27.3-lex">\n          <f name="base">\n           <string>wielki</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.27.3.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.27.4-lex">\n          <f name="base">\n           <string>wiersz</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.27.4.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.27.5-lex">\n          <f name="base">\n           <string>wieś</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.27.5.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.27.6-lex">\n          <f name="base">\n           <string>wyspa</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.27.6.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.27.1.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>w:prep:loc:nwok</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.28-seg" xml:id="morph_1.28-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>których</string>\n        </f>\n        <!-- których [132,7] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.28.1-lex">\n          <f name="base">\n           <string>który</string>\n          </f>\n          <f name="ctag">\n           <symbol value="adj"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="pl:gen:m1:pos" xml:id="morph_1.28.1.1-msd"/>\n            <symbol value="pl:gen:m2:pos" xml:id="morph_1.28.1.2-msd"/>\n            <symbol value="pl:gen:m3:pos" xml:id="morph_1.28.1.3-msd"/>\n            <symbol value="pl:gen:f:pos" xml:id="morph_1.28.1.4-msd"/>\n            <symbol value="pl:gen:n:pos" xml:id="morph_1.28.1.5-msd"/>\n            <symbol value="pl:loc:m1:pos" xml:id="morph_1.28.1.6-msd"/>\n            <symbol value="pl:loc:m2:pos" xml:id="morph_1.28.1.7-msd"/>\n            <symbol value="pl:loc:m3:pos" xml:id="morph_1.28.1.8-msd"/>\n            <symbol value="pl:loc:f:pos" xml:id="morph_1.28.1.9-msd"/>\n            <symbol value="pl:loc:n:pos" xml:id="morph_1.28.1.10-msd"/>\n            <symbol value="pl:acc:m1:pos" xml:id="morph_1.28.1.11-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.28.1.8-msd" name="choice"/>\n          <f name="interpretation">\n           <string>który:adj:pl:loc:m3:pos</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.29-seg" xml:id="morph_1.29-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>wykonanie</string>\n        </f>\n        <!-- wykonanie [140,9] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.29.1-lex">\n          <f name="base">\n           <string>wykonanie</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:nom:n" xml:id="morph_1.29.1.1-msd"/>\n            <symbol value="sg:acc:n" xml:id="morph_1.29.1.2-msd"/>\n            <symbol value="sg:voc:n" xml:id="morph_1.29.1.3-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.29.2-lex">\n          <f name="base">\n           <string>wykonać</string>\n          </f>\n          <f name="ctag">\n           <symbol value="ger"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:nom:n:perf:aff" xml:id="morph_1.29.2.1-msd"/>\n            <symbol value="sg:acc:n:perf:aff" xml:id="morph_1.29.2.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.29.2.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>wykonać:ger:sg:nom:n:perf:aff</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.30-seg" xml:id="morph_1.30-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>świadczenia</string>\n        </f>\n        <!-- świadczenia [150,11] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.30.1-lex">\n          <f name="base">\n           <string>świadczenie</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:gen:n" xml:id="morph_1.30.1.1-msd"/>\n            <symbol value="pl:nom:n" xml:id="morph_1.30.1.2-msd"/>\n            <symbol value="pl:acc:n" xml:id="morph_1.30.1.3-msd"/>\n            <symbol value="pl:voc:n" xml:id="morph_1.30.1.4-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.30.2-lex">\n          <f name="base">\n           <string>świadczyć</string>\n          </f>\n          <f name="ctag">\n           <symbol value="ger"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:gen:n:imperf:aff" xml:id="morph_1.30.2.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.30.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>świadczenie:subst:sg:gen:n</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.31-seg" xml:id="morph_1.31-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>następuje</string>\n        </f>\n        <!-- następuje [162,9] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.31.1-lex">\n          <f name="base">\n           <string>następować</string>\n          </f>\n          <f name="ctag">\n           <symbol value="fin"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:ter:imperf" xml:id="morph_1.31.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.31.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>następować:fin:sg:ter:imperf</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.32-seg" xml:id="morph_1.32-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>w</string>\n        </f>\n        <!-- w [172,1] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.32.1-lex">\n          <f name="base">\n           <string>w</string>\n          </f>\n          <f name="ctag">\n           <symbol value="prep"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="acc:nwok" xml:id="morph_1.32.1.1-msd"/>\n            <symbol value="loc:nwok" xml:id="morph_1.32.1.2-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.32.2-lex">\n          <f name="base">\n           <string>wiek</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.32.2.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.32.3-lex">\n          <f name="base">\n           <string>wielki</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.32.3.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.32.4-lex">\n          <f name="base">\n           <string>wiersz</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.32.4.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.32.5-lex">\n          <f name="base">\n           <string>wieś</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.32.5.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.32.6-lex">\n          <f name="base">\n           <string>wyspa</string>\n          </f>\n          <f name="ctag">\n           <symbol value="brev"/>\n          </f>\n          <f name="msd">\n           <symbol value="pun" xml:id="morph_1.32.6.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.32.1.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>w:prep:loc:nwok</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.33-seg" xml:id="morph_1.33-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>celu</string>\n        </f>\n        <!-- celu [174,4] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.33.1-lex">\n          <f name="base">\n           <string>Cela</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:voc:f" xml:id="morph_1.33.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.33.2-lex">\n          <f name="base">\n           <string>cel</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:gen:m3" xml:id="morph_1.33.2.1-msd"/>\n            <symbol value="sg:loc:m3" xml:id="morph_1.33.2.2-msd"/>\n            <symbol value="sg:voc:m3" xml:id="morph_1.33.2.3-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.33.2.2-msd" name="choice"/>\n          <f name="interpretation">\n           <string>cel:subst:sg:loc:m3</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.34-seg" xml:id="morph_1.34-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>sprawdzenia</string>\n        </f>\n        <!-- sprawdzenia [179,11] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.34.1-lex">\n          <f name="base">\n           <string>sprawdzić</string>\n          </f>\n          <f name="ctag">\n           <symbol value="ger"/>\n          </f>\n          <f name="msd">\n           <symbol value="sg:gen:n:perf:aff" xml:id="morph_1.34.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.34.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>sprawdzić:ger:sg:gen:n:perf:aff</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.35-seg" xml:id="morph_1.35-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>gotowości</string>\n        </f>\n        <!-- gotowości [191,9] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.35.1-lex">\n          <f name="base">\n           <string>gotowość</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:gen:f" xml:id="morph_1.35.1.1-msd"/>\n            <symbol value="sg:dat:f" xml:id="morph_1.35.1.2-msd"/>\n            <symbol value="sg:loc:f" xml:id="morph_1.35.1.3-msd"/>\n            <symbol value="sg:voc:f" xml:id="morph_1.35.1.4-msd"/>\n            <symbol value="pl:nom:f" xml:id="morph_1.35.1.5-msd"/>\n            <symbol value="pl:gen:f" xml:id="morph_1.35.1.6-msd"/>\n            <symbol value="pl:acc:f" xml:id="morph_1.35.1.7-msd"/>\n            <symbol value="pl:voc:f" xml:id="morph_1.35.1.8-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.35.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>gotowość:subst:sg:gen:f</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.36-seg" xml:id="morph_1.36-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>mobilizacyjnej</string>\n        </f>\n        <!-- mobilizacyjnej [201,14] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.36.1-lex">\n          <f name="base">\n           <string>mobilizacyjny</string>\n          </f>\n          <f name="ctag">\n           <symbol value="adj"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="sg:gen:f:pos" xml:id="morph_1.36.1.1-msd"/>\n            <symbol value="sg:dat:f:pos" xml:id="morph_1.36.1.2-msd"/>\n            <symbol value="sg:loc:f:pos" xml:id="morph_1.36.1.3-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.36.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>mobilizacyjny:adj:sg:gen:f:pos</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.37-seg" xml:id="morph_1.37-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>Sił</string>\n        </f>\n        <!-- Sił [216,3] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.37.1-lex">\n          <f name="base">\n           <string>siła</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="pl:gen:f" xml:id="morph_1.37.1.1-msd"/>\n          </f>\n         </fs>\n         <fs type="lex" xml:id="morph_1.37.2-lex">\n          <f name="base">\n           <string>siły</string>\n          </f>\n          <f name="ctag">\n           <symbol value="subst"/>\n          </f>\n          <f name="msd">\n           <symbol value="pl:gen:n" xml:id="morph_1.37.2.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.37.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>siła:subst:pl:gen:f</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.38-seg" xml:id="morph_1.38-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>Zbrojnych</string>\n        </f>\n        <!-- Zbrojnych [220,9] -->\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.38.1-lex">\n          <f name="base">\n           <string>zbrojny</string>\n          </f>\n          <f name="ctag">\n           <symbol value="adj"/>\n          </f>\n          <f name="msd">\n           <vAlt>\n            <symbol value="pl:gen:m1:pos" xml:id="morph_1.38.1.1-msd"/>\n            <symbol value="pl:gen:m2:pos" xml:id="morph_1.38.1.2-msd"/>\n            <symbol value="pl:gen:m3:pos" xml:id="morph_1.38.1.3-msd"/>\n            <symbol value="pl:gen:f:pos" xml:id="morph_1.38.1.4-msd"/>\n            <symbol value="pl:gen:n:pos" xml:id="morph_1.38.1.5-msd"/>\n            <symbol value="pl:loc:m1:pos" xml:id="morph_1.38.1.6-msd"/>\n            <symbol value="pl:loc:m2:pos" xml:id="morph_1.38.1.7-msd"/>\n            <symbol value="pl:loc:m3:pos" xml:id="morph_1.38.1.8-msd"/>\n            <symbol value="pl:loc:f:pos" xml:id="morph_1.38.1.9-msd"/>\n            <symbol value="pl:loc:n:pos" xml:id="morph_1.38.1.10-msd"/>\n            <symbol value="pl:acc:m1:pos" xml:id="morph_1.38.1.11-msd"/>\n           </vAlt>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.38.1.4-msd" name="choice"/>\n          <f name="interpretation">\n           <string>zbrojny:adj:pl:gen:f:pos</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n      <seg corresp="ann_segmentation.xml#segm_1.39-seg" xml:id="morph_1.39-seg">\n       <fs type="morph">\n        <f name="orth">\n         <string>.</string>\n        </f>\n        <!-- . [229,1] -->\n        <f name="nps">\n         <binary value="true"/>\n        </f>\n        <f name="interps">\n         <fs type="lex" xml:id="morph_1.39.1-lex">\n          <f name="base">\n           <string>.</string>\n          </f>\n          <f name="ctag">\n           <symbol value="interp"/>\n          </f>\n          <f name="msd">\n           <symbol value="" xml:id="morph_1.39.1.1-msd"/>\n          </f>\n         </fs>\n        </f>\n        <f name="disamb">\n         <fs feats="#an8003" type="tool_report">\n          <f fVal="#morph_1.39.1.1-msd" name="choice"/>\n          <f name="interpretation">\n           <string>.:interp</string>\n          </f>\n         </fs>\n        </f>\n       </fs>\n      </seg>\n     </s>\n    </p>\n   </body>\n  </text>\n </TEI>\n</teiCorpus>\n'.lstrip()