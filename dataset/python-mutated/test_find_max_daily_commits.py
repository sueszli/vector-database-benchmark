from gitfiti import find_max_daily_commits, parse_contributions_calendar
CONTRIBUTIONS_CALENDAR_SVG = '<svg width="721" height="110" class="js-calendar-graph-svg">\n  <g transform="translate(20, 20)">\n      <g transform="translate(624, 0)">\n          <rect class="day" width="11" height="11" y="0" fill="#eeeeee" data-count="0" data-date="2016-05-08"/>\n          <rect class="day" width="11" height="11" y="13" fill="#eeeeee" data-count="0" data-date="2016-05-09"/>\n          <rect class="day" width="11" height="11" y="26" fill="#eeeeee" data-count="0" data-date="2016-05-10"/>\n          <rect class="day" width="11" height="11" y="39" fill="#eeeeee" data-count="0" data-date="2016-05-11"/>\n          <rect class="day" width="11" height="11" y="52" fill="#d6e685" data-count="6" data-date="2016-05-12"/>\n          <rect class="day" width="11" height="11" y="65" fill="#eeeeee" data-count="0" data-date="2016-05-13"/>\n          <rect class="day" width="11" height="11" y="78" fill="#eeeeee" data-count="0" data-date="2016-05-14"/>\n      </g>\n      <g transform="translate(637, 0)">\n          <rect class="day" width="11" height="11" y="0" fill="#eeeeee" data-count="0" data-date="2016-05-15"/>\n          <rect class="day" width="11" height="11" y="13" fill="#eeeeee" data-count="0" data-date="2016-05-16"/>\n          <rect class="day" width="11" height="11" y="26" fill="#eeeeee" data-count="0" data-date="2016-05-17"/>\n          <rect class="day" width="11" height="11" y="39" fill="#eeeeee" data-count="0" data-date="2016-05-18"/>\n          <rect class="day" width="11" height="11" y="52" fill="#eeeeee" data-count="0" data-date="2016-05-19"/>\n          <rect class="day" width="11" height="11" y="65" fill="#eeeeee" data-count="0" data-date="2016-05-20"/>\n          <rect class="day" width="11" height="11" y="78" fill="#d6e685" data-count="6" data-date="2016-05-21"/>\n      </g>\n      <g transform="translate(650, 0)">\n          <rect class="day" width="11" height="11" y="0" fill="#1e6823" data-count="84" data-date="2016-05-22"/>\n          <rect class="day" width="11" height="11" y="13" fill="#d6e685" data-count="16" data-date="2016-05-23"/>\n          <rect class="day" width="11" height="11" y="26" fill="#d6e685" data-count="4" data-date="2016-05-24"/>\n          <rect class="day" width="11" height="11" y="39" fill="#d6e685" data-count="8" data-date="2016-05-25"/>\n          <rect class="day" width="11" height="11" y="52" fill="#eeeeee" data-count="0" data-date="2016-05-26"/>\n          <rect class="day" width="11" height="11" y="65" fill="#eeeeee" data-count="0" data-date="2016-05-27"/>\n          <rect class="day" width="11" height="11" y="78" fill="#eeeeee" data-count="0" data-date="2016-05-28"/>\n      </g>\n      <g transform="translate(663, 0)">\n          <rect class="day" width="11" height="11" y="0" fill="#eeeeee" data-count="0" data-date="2016-05-29"/>\n          <rect class="day" width="11" height="11" y="13" fill="#8cc665" data-count="25" data-date="2016-05-30"/>\n          <rect class="day" width="11" height="11" y="26" fill="#1e6823" data-count="66" data-date="2016-05-31"/>\n          <rect class="day" width="11" height="11" y="39" fill="#d6e685" data-count="20" data-date="2016-06-01"/>\n          <rect class="day" width="11" height="11" y="52" fill="#d6e685" data-count="10" data-date="2016-06-02"/>\n          <rect class="day" width="11" height="11" y="65" fill="#eeeeee" data-count="0" data-date="2016-06-03"/>\n          <rect class="day" width="11" height="11" y="78" fill="#eeeeee" data-count="0" data-date="2016-06-04"/>\n      </g>\n      <g transform="translate(676, 0)">\n          <rect class="day" width="11" height="11" y="0" fill="#8cc665" data-count="33" data-date="2016-06-05"/>\n          <rect class="day" width="11" height="11" y="13" fill="#d6e685" data-count="9" data-date="2016-06-06"/>\n          <rect class="day" width="11" height="11" y="26" fill="#eeeeee" data-count="0" data-date="2016-06-07"/>\n          <rect class="day" width="11" height="11" y="39" fill="#eeeeee" data-count="0" data-date="2016-06-08"/>\n          <rect class="day" width="11" height="11" y="52" fill="#d6e685" data-count="7" data-date="2016-06-09"/>\n      </g>\n      <text x="0" y="-5" class="month">Jun</text>\n      <text x="52" y="-5" class="month">Jul</text>\n      <text x="104" y="-5" class="month">Aug</text>\n      <text x="169" y="-5" class="month">Sep</text>\n      <text x="221" y="-5" class="month">Oct</text>\n      <text x="273" y="-5" class="month">Nov</text>\n      <text x="338" y="-5" class="month">Dec</text>\n      <text x="390" y="-5" class="month">Jan</text>\n      <text x="455" y="-5" class="month">Feb</text>\n      <text x="507" y="-5" class="month">Mar</text>\n      <text x="559" y="-5" class="month">Apr</text>\n      <text x="611" y="-5" class="month">May</text>\n    <text text-anchor="middle" class="wday" dx="-10" dy="9" style="display: none;">S</text>\n    <text text-anchor="middle" class="wday" dx="-10" dy="22">M</text>\n    <text text-anchor="middle" class="wday" dx="-10" dy="35" style="display: none;">T</text>\n    <text text-anchor="middle" class="wday" dx="-10" dy="48">W</text>\n    <text text-anchor="middle" class="wday" dx="-10" dy="61" style="display: none;">T</text>\n    <text text-anchor="middle" class="wday" dx="-10" dy="74">F</text>\n    <text text-anchor="middle" class="wday" dx="-10" dy="87" style="display: none;">S</text>\n  </g>\n</svg>\n'

def test_parse_contributions_calendar():
    if False:
        i = 10
        return i + 15
    expected = [0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0, 6, 84, 16, 4, 8, 0, 0, 0, 0, 25, 66, 20, 10, 0, 0, 33, 9, 0, 0, 7]
    actual = parse_contributions_calendar(CONTRIBUTIONS_CALENDAR_SVG)
    assert list(actual) == expected

def test_find_max_daily_commits():
    if False:
        while True:
            i = 10
    assert find_max_daily_commits(CONTRIBUTIONS_CALENDAR_SVG) == 84