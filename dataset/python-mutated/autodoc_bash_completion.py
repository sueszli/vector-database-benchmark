"""bash_completion.py - create bash completion script from built-in bzr help"""
from __future__ import absolute_import
import time
import bzrlib
import bzrlib.help
import bzrlib.commands
import bzrlib.osutils

def get_filename(options):
    if False:
        i = 10
        return i + 15
    return '%s.bash_completion' % options.bzr_name

def infogen(options, outfile):
    if False:
        print('Hello World!')
    tt = bzrlib.osutils.gmtime()
    params = {'bzrcmd': options.bzr_name, 'datestamp': time.strftime('%Y-%m-%d', tt), 'timestamp': time.strftime('%Y-%m-%d %H:%M:%S +0000', tt), 'version': bzrlib.__version__}
    outfile.write(preamble % params)
preamble = '# bash completion functions for for Bazaar (%(bzrcmd)s)\n#\n# Large parts of this file are autogenerated from the internal\n# Bazaar documentation and data structures.\n#\n# Generation time: %(timestamp)s\n'