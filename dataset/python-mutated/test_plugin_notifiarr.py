import requests
from apprise.plugins.NotifyNotifiarr import NotifyNotifiarr
from helpers import AppriseURLTester
import logging
logging.disable(logging.CRITICAL)
apprise_url_tests = (('notifiarr://:@/', {'instance': TypeError}), ('notifiarr://', {'instance': TypeError}), ('notifiarr://apikey', {'instance': NotifyNotifiarr, 'notify_response': False, 'privacy_url': 'notifiarr://a...y'}), ('notifiarr://apikey/1234/?discord_user=invalid', {'instance': TypeError}), ('notifiarr://apikey/1234/?discord_role=invalid', {'instance': TypeError}), ('notifiarr://apikey/1234/?event=invalid', {'instance': TypeError}), ('notifiarr://apikey/%%invalid%%', {'instance': NotifyNotifiarr, 'notify_response': False, 'privacy_url': 'notifiarr://a...y'}), ('notifiarr://apikey/#123', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://a...y/#123'}), ('notifiarr://apikey/123?image=No', {'instance': NotifyNotifiarr}), ('notifiarr://apikey/123?image=yes', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://a...y/#123'}), ('notifiarr://apikey/?to=123,432', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://a...y/#123/#432'}), ('notifiarr://123/?apikey=myapikey', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://m...y/#123'}), ('notifiarr://123/?apikey=myapikey&image=yes', {'instance': NotifyNotifiarr}), ('notifiarr://123/?apikey=myapikey&image=no', {'instance': NotifyNotifiarr}), ('notifiarr://123/?apikey=myapikey&source=My%20System', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://m...y/#123'}), ('notifiarr://123/?apikey=myapikey&from=My%20System', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://m...y/#123'}), ('notifiarr://?apikey=myapikey', {'instance': NotifyNotifiarr, 'notify_response': False, 'privacy_url': 'notifiarr://m...y/'}), ('notifiarr://invalid?apikey=myapikey', {'instance': NotifyNotifiarr, 'notify_response': False, 'privacy_url': 'notifiarr://m...y/'}), ('notifiarr://123/325/?apikey=myapikey', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://m...y/#123/#325'}), ('notifiarr://12/?key=myapikey&discord_user=23&discord_role=12&event=123', {'instance': NotifyNotifiarr, 'privacy_url': 'notifiarr://m...y/#12'}), ('notifiarr://apikey/123/', {'instance': NotifyNotifiarr}), ('notifiarr://apikey/123', {'instance': NotifyNotifiarr, 'response': False, 'requests_response_code': requests.codes.internal_server_error}), ('notifiarr://apikey/123', {'instance': NotifyNotifiarr, 'response': False, 'requests_response_code': 999}), ('notifiarr://apikey/123', {'instance': NotifyNotifiarr, 'test_requests_exceptions': True}))

def test_plugin_custom_notifiarr_urls():
    if False:
        for i in range(10):
            print('nop')
    '\n    NotifyNotifiarr() Apprise URLs\n\n    '
    AppriseURLTester(tests=apprise_url_tests).run_all()